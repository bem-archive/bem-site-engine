block('author').elem('avatar')(
    match(function () {
        var c = this.ctx.content;

        return c && c.avatar;
    })(
        tag()('img'),
        attrs()(function () {
            var content = this.ctx.content,
                gravatarUrl = content.gravatarUrl,
                avatar = content.avatar;

            return {
                src: gravatarUrl ? (gravatarUrl + '&d=' + avatar) : avatar,
                alt: content.slug
            };
        })
    )
);
